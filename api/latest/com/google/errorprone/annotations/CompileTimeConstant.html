<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (25) -->
<title>CompileTimeConstant (Error Prone parent POM 1.0-HEAD-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: com.google.errorprone.annotations, annotation type: CompileTimeConstant">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/CompileTimeConstant.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../search.html">Search</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">com.google.errorprone.annotations</a></li>
<li><a href="CompileTimeConstant.html" class="current-selection">CompileTimeConstant</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Annotation Interface CompileTimeConstant" class="title">Annotation Interface CompileTimeConstant</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#CLASS" title="class or interface in java.lang.annotation" class="external-link">CLASS</a>)
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>({<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#PARAMETER" title="class or interface in java.lang.annotation" class="external-link">PARAMETER</a>,<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#FIELD" title="class or interface in java.lang.annotation" class="external-link">FIELD</a>})
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">CompileTimeConstant</span></div>
<div class="block">Annotation for method parameter and class field declarations, which denotes that corresponding
actual values must be compile-time constant expressions.

<p>When the formal parameter of a method or constructor is annotated with the <a href="CompileTimeConstant.html" title="annotation interface in com.google.errorprone.annotations"><code>CompileTimeConstant</code></a> type annotation, the corresponding actual parameter must be an expression
that satisfies one of the following conditions:

<ol>
  <li>The expression is one for which the Java compiler can determine a constant value at compile
      time, or
  <li>the expression consists of the literal <code>null</code>, or
  <li>the expression consists of a single identifier, where the identifier is a formal method
      parameter or class field that is declared <code>final</code> and has the <a href="CompileTimeConstant.html" title="annotation interface in com.google.errorprone.annotations"><code>CompileTimeConstant</code></a> annotation, or
  <li>the expression is a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a>, and formed from the concatenation of symbols which meet
      these conditions, or
  <li>the expression is a ternary condition, where both branches satisfy these conditions, or
  <li>the expression is a switch expression, where every case is either a constant expression or
      throws, or
  <li>the expression is an immutable collection with all values known to satisfy these conditions
      (for example, <code>ImmutableSet.of("a", "b", "c")</code>).
</ol>

<p>For example, the following code snippet is legal:

<pre><code>public class C {
  private static final String S = "Hello";
  void m(@CompileTimeConstant final String s) {}
  void n(@CompileTimeConstant final String t) {
    m(S + " World!");
    m(null);
    m(t);
  }
  void o(boolean enabled) {
    m(enabled ? "on" : "off");
  }
}
</code></pre>

<p>In contrast, the following is illegal:

<pre><code>public class C {
  void m(@CompileTimeConstant final String s) {}
  void n(String t) {
    m(t);
  }
}
</code></pre>

<p>When a class field is annotated with the <a href="CompileTimeConstant.html" title="annotation interface in com.google.errorprone.annotations"><code>CompileTimeConstant</code></a> type annotation, the
field must also be declared to be <code>final</code>, and the corresponding initialised value must be
an expression that satisfies the conditions above.

<p>For example, the following code snippet is legal:

<pre><code>public class C {
  @CompileTimeConstant final String s;
  public C(@CompileTimeConstant String s) {
    this.s = s;
  }
  void m(@CompileTimeConstant final String s) {}
  void n() {
    m(s);
  }
}
</code></pre>

<p>In contrast, the following are illegal:

<pre><code>public class C {
  @CompileTimeConstant String S;
  public C(@CompileTimeConstant String s) {
    this.S = s;
  }
  void m(@CompileTimeConstant final String s) { }
  void n() {
    m(S);
  }
}
</code></pre>

<pre><code>public class C {
  @CompileTimeConstant final String S;
  public C(String s) {
    this.S = s;
  }
}
</code></pre>

<p>Compile-time constant values are implicitly under the control of the trust domain of the
application whose source code they are part of. Hence, this annotation is useful to constrain the
use of APIs that may only be safely called with values that are under application control.

<p>The current implementation of the @CompileTimeConstant checker cannot reason about more
complex scenarios, for example, returning compile-time-constant values from a method, or storing
compile-time-constant values in a collection. APIs will typically accommodate such use cases via
domain-specific types that capture domain-specific aspects of trustworthiness that arise from
values being under application control.

<p>These constraints are enforced by <a href="https://errorprone.info">error-prone</a>.</div>
</div>
</section>
<section class="details" id="annotation-interface-element-detail"></section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 <a href="https://www.google.com">Google LLC</a>. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>

<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (25) -->
<title>Placeholder (Error Prone parent POM 1.0-HEAD-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: com.google.errorprone.refaster.annotation, annotation type: Placeholder">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Placeholder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../search.html">Search</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">com.google.errorprone.refaster.annotation</a></li>
<li><a href="Placeholder.html" class="current-selection">Placeholder</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#annotation-interface-optional-element-summary" tabindex="0">Optional Element Summary</a></li>
<li><a href="#annotation-interface-element-detail" tabindex="0">Element Details</a>
<ol class="toc-list">
<li><a href="#allowsIdentity()" tabindex="0">allowsIdentity</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Annotation Interface Placeholder" class="title">Annotation Interface Placeholder</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>)
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#SOURCE" title="class or interface in java.lang.annotation" class="external-link">SOURCE</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">Placeholder</span></div>
<div class="block">Annotation to indicate a placeholder method.

<p>A placeholder method is an abstract method in a Refaster template class which can represent an
arbitrary expression (if the return type is nonvoid), or zero or more statements (if the return
type is void), in terms of its arguments. For example,

<pre><code>abstract class ComputeIfAbsent&lt;K, V&gt; {
 @Placeholder abstract V computeValue(K key);

 @BeforeTemplate void getOrCompute(Map&lt;K, V&gt; map, K key) {
    V value = map.get(key);
    if (value == null) {
      map.put(key, value = computeValue(key));
    }
  }

 @AfterTemplate void computeIfAbsent(Map&lt;K, V&gt; map, K key) {
    V value = map.computeIfAbsent(key, (K k) -&gt; computeValue(k));
  }
}
</code></pre>

<p>Here, <code>computeValue</code> represents an arbitrary expression in terms of <code>key</code>, and the
<code>@AfterTemplate</code> rewrites that same expression in terms of the parameter of a lambda
expression.

<p>For a multi-line example, consider

<pre><code>abstract class TryWithResources&lt;T extends AutoCloseable&gt; {
 @Placeholder abstract T open();
 @Placeholder void process(T resource);

 @BeforeTemplate void tryFinallyClose() {
    T resource = open();
    try {
      process(resource);
    } finally {
      resource.close();
    }
  }

 @AfterTemplate void tryWithResource() {
    try (T resource = open()) {
      process(resource);
    }
  }
}
</code></pre>

<p>Here, <code>process</code> is any block, though it must refer to <code>resource</code> in some way; it
is not permitted to reassign the contents of <code>resource</code>.

<p>Placeholder methods are not permitted to refer to any local variables or parameters of the
<code>@BeforeTemplate</code> that are not passed to them as arguments. Additionally, they
<em>must</em> contain references to all arguments that <em>are</em> passed to them -- except
those corresponding to parameters annotated with <a href="MayOptionallyUse.html" title="annotation interface in com.google.errorprone.refaster.annotation"><code>MayOptionallyUse</code></a>.

<p>Note that <a href="Matches.html" title="annotation interface in com.google.errorprone.refaster.annotation"><code>Matches</code></a> and <a href="NotMatches.html" title="annotation interface in com.google.errorprone.refaster.annotation"><code>NotMatches</code></a> can be applied to placeholder methods, but,
<strong>and this is a serious health warning</strong>, those predicates will only be matched if
the placeholder method is used as an <em>expression</em>, not a <em>statement</em>.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>lowasser@google.com (Louis Wasserman)</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><code><a href="#allowsIdentity()" class="member-name-link">allowsIdentity</a></code></div>
<div class="col-last even-row-color">
<div class="block">Identifies whether the placeholder is allowed to match an expression which simply returns one
of the placeholder arguments unchanged.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="allowsIdentity()">
<h3>allowsIdentity</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">allowsIdentity</span></div>
<div class="block">Identifies whether the placeholder is allowed to match an expression which simply returns one
of the placeholder arguments unchanged.</div>
<dl class="notes">
<dt>Default:</dt>
<dd><code>false</code></dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025 <a href="https://www.google.com">Google LLC</a>. All rights reserved.</small></p>
</footer>
</main>
</div>
</body>
</html>
